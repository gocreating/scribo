(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{547:function(e,t,a){"use strict";var n=a(0),r=a.n(n),o=a(858),s=a(849),c=a(851),i=a(889),u=a(860),l=a(722),h=a(32),m=a(422),p=function(e){var t=e.posts,a=e.showAuthor;return r.a.createElement(s.a.Group,{doubling:!0,stackable:!0,itemsPerRow:3},t.map(function(e){return r.a.createElement(s.a,{key:e.id},e.headerImage&&e.headerImage.src&&r.a.createElement(c.a,{as:o.a,to:"/@".concat(e.author.username,"/").concat(e.slug),src:e.headerImage.src}),r.a.createElement(s.a.Content,null,r.a.createElement(i.a,{size:"huge",className:"post-header web-font",as:o.a,to:"/@".concat(e.author.username,"/").concat(e.slug)},e.title,e.subtitle&&r.a.createElement(i.a.Subheader,{className:"web-font"},r.a.createElement(u.a,{hidden:!0}),e.subtitle))),(e.seriesCount>0||a)&&r.a.createElement(s.a.Content,{extra:!0},a&&e.author&&r.a.createElement(l.a,{image:!0,basic:!0,as:o.a,to:"/@".concat(e.author.username),color:"grey"},r.a.createElement("img",{src:"".concat("/scribo","/img/default-avatar.png"),alt:""}),e.author.username),e.seriesCount>0&&r.a.createElement(l.a,{basic:!0,color:"blue"},r.a.createElement(h.a,{icon:m.d})," ",e.seriesCount," ","\u7bc7\u7cfb\u5217\u6587")))}))};p.defaultProps={showAuthor:!1},t.a=p},548:function(e,t,a){"use strict";var n=a(0),r=a.n(n),o=a(857),s=a(889),c=a(884),i=function(e){var t=e.header,a=e.subHeader,n=e.buttonText,i=e.onInitClick;return r.a.createElement(o.a,{textAlign:"center"},t&&r.a.createElement(s.a,{as:"h2"},t,a&&r.a.createElement(s.a.Subheader,null,a)),i&&n&&r.a.createElement(c.a,{color:"yellow",onClick:i},n))};i.defaultProps={header:"No Post",subHeader:"You don't have any post now.",buttonText:"Create your first post now"},t.a=i},872:function(e,t,a){"use strict";a.r(t);var n=a(7),r=a(65),o=a(155),s=a(88),c=a(87),i=a(89),u=a(0),l=a.n(u),h=a(78),m=a(721),p=a(31),g=a(887),d=a(879),f=a(549),b=a.n(f),E=a(158),P=a(547),v=a(548),w=a(29),y=a(91),C=function(e){function t(){var e,a;Object(r.a)(this,t);for(var o=arguments.length,i=new Array(o),u=0;u<o;u++)i[u]=arguments[u];return(a=Object(s.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(i)))).gotoNewPost=function(){return a.props.redirectToNewPost()},a.fetchPosts=function(){var e=a.props;(0,e.postListByUsername)(e.username,e.pageId,null,function(e){alert(e.error.message)})},a.handlePageChange=function(e,t){var r=a.props,o=r.push,s=r.query;o({search:b.a.stringify(Object(n.a)({},s,{page:t.activePage}))})},a}return Object(i.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.fetchPosts()}},{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.username,n=t.pageId;a===e.username&&n===e.pageId||this.fetchPosts()}},{key:"render",value:function(){var e=this.props,t=e.posts,a=e.isLoading,n=e.pageId,r=e.meta,o=e.username;return l.a.createElement(E.a,{placeholder:!0,loading:a,title:"@".concat(o)},l.a.createElement(P.a,{posts:t}),!a&&0===t.length&&l.a.createElement(v.a,{onInitClick:this.gotoNewPost}),r.total>r.limit&&l.a.createElement(g.a,{centered:!0},l.a.createElement(d.a,{text:!0,activePage:n,totalPages:Math.ceil(r.total/r.limit),onPageChange:this.handlePageChange})))}}]),t}(u.Component);t.default=Object(m.a)(Object(h.connect)(function(e,t){var a=e.auth,n=e.posts,r=e.users,o=t.match,s=t.location,c=o.params.username,i=b.a.parse(s.search),u=i.page||1,l=y.k.getUserPagesMeta(n,c),h=y.k.getListByUsernameContext(n,c,u);return{isAuth:w.c.getIsAuth(a),username:c,posts:y.k.getUserPostsWithAuthor(n,r.entities,c,u),isLoading:h.isPending,query:i,pageId:u,meta:l}},{postListByUsername:y.d,redirectToNewPost:y.i,push:p.push})(C))}}]);